# KMP 알고리즘

패턴과 본문 내의 문자열 중 다음 단계의 검색에서 활용할 수 있는 '정보'를 활용하여 선형횟수만큼 패턴일치하는 문자열을 찾아냄.

## 알고리즘 상세

1. 본문과 패턴이 일치하는지 본다.
2. 패턴의 어디까지 일치하는지 찾는다
    1. 그 전까지 본문과 일치했던 패턴을 찾는다
    2. 경계를 찾는다 (경계? 서로 일치하는 접두부와 접미부가 있는 경우)
3. 패턴 전체를 오른쪽으로 민다.
    1. 일치하던 부분의 길이 - 경계의 길이

## 알고리즘 이해 (1) - 경계 정보를 미리 계산하기

(`BAABAABA`로도 해보자.)

`BAABABBA` 라는 패턴에 대해, 불일치가 일어나는 문자가 n번째인 경우를 살펴보자.

1. 첫 번째 - 항상 -1로 두자.
    1. 경계가 없을 때의 경계로 너비로 사용

2. 두 번째는 - 0
    - B
    - ... 경계 없음!

3. 세 번째는 - 0
    - B
    - BA
    - ... 경계 없음!

4. 네 번째는 - 0
    - B
    - BA
    - BAA
    - ... 경계 없음!

5. 다섯 번째는 - 1
    - B
    - BA
    - BAA
    - BAAB -> 이 문자열의 경계가 **B**

6. 여섯 번째는 - 2
    - B
    - BA
    - BAA
    - BAAB
    - BAABA -> 이 문자열의 경계가 **BA**

7. 일곱 번째는 - 1
    - B
    - BA
    - BAA
    - BAAB
    - BAABA
    - BAABAB -> 이 문자열의 경계가 **B**

8. 여덟 번째는 - 2
    - B
    - BA
    - BAA
    - BAAB
    - BAABA
    - BAABAB
    - BAABABA -> 이 문자열의 경계가 **BA**

9. 9번째의 존재여부?
    - 본문 내의 문재열이 패턴과 일치하지만 이어서 탐색하고 싶은 경우 사용.
    - E.g.,
        - 패턴 전체와 일치하는 부분을 찾았음.
        - 그 부분 뒤에 이어지는 본문의 문자가 패턴의 첫 문자와 일치하지 않는 경우
    - 아홉 번째는 - 3
        - B
        - BA
        - BAA
        - BAAB
        - BAABA
        - BAABAB
        - BAABABA
        - BAABABAA -> 이 문자열의 경계가 **BAA**

## 알고리즘 이해 (2) - 이동거리

> $이동 거리 = 일치 접두부의 길이 + 최대 경계 너비$

`BAABAA` 라는 문자열이 있고, 상기 패턴을 이용할 경우?

1. `BAABA`까지 일치, `BAABAA` 패턴 불일치
2. 이동 거리(_mov_) = 일치 접두부의 길이(`5`) + 최대 경계 너비(`2`)
    - $mov = 5 - 2 = 3$

## 구현

### 어프로치 - s3ich4n 식

1. 경계정보 검색하기
2. 문자열에서 패턴만큼 읽기

## 보다 나은 접근법

해당 [링크](https://hwlang.de/algorithmen/pattern/kmpen.htm) 를 보고 학습하자!

### 상세

구현코드 -> kmp_003.py

![경계 r, x의 문자열 s](https://hwlang.de/algorithmen/pattern/rand.gif)

`r`과 `s` 라는 문자열은 `x`의 경계값이라고 하자. `|r| < |s|` 일 때, `r`은 `s`의 경계다.
